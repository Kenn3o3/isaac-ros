
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://Kenn3o3.github.io/isaac-ros/Isaac_doc/3_doc/">
      
      
        <link rel="prev" href="../2_doc/">
      
      
        <link rel="next" href="../4_doc/">
      
      
      <link rel="icon" href="../../assets/icon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.39">
    
    
      
        <title>Driving TurtleBot via ROS2 messages - ISAAC-ROS AND ROS 2 Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8c3ca2c6.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#driving-turtlebot-via-ros2-messages" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ISAAC-ROS AND ROS 2 Documentation" class="md-header__button md-logo" aria-label="ISAAC-ROS AND ROS 2 Documentation" data-md-component="logo">
      
  <img src="../../assets/icon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ISAAC-ROS AND ROS 2 Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Driving TurtleBot via ROS2 messages
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ISAAC-ROS AND ROS 2 Documentation" class="md-nav__button md-logo" aria-label="ISAAC-ROS AND ROS 2 Documentation" data-md-component="logo">
      
  <img src="../../assets/icon.png" alt="logo">

    </a>
    ISAAC-ROS AND ROS 2 Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Isaac Sim ROS Documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Isaac Sim ROS Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_doc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2_doc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    URDF Import: Turtlebot
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Driving TurtleBot via ROS2 messages
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Driving TurtleBot via ROS2 messages
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#driving-the-robot" class="md-nav__link">
    <span class="md-ellipsis">
      Driving the Robot
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connecting-to-ros2" class="md-nav__link">
    <span class="md-ellipsis">
      Connecting to ROS2
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#putting-it-together" class="md-nav__link">
    <span class="md-ellipsis">
      Putting it Together
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Putting it Together">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#building-the-graph" class="md-nav__link">
    <span class="md-ellipsis">
      Building the Graph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#graph-explained" class="md-nav__link">
    <span class="md-ellipsis">
      Graph Explained
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vertify-ros-connections" class="md-nav__link">
    <span class="md-ellipsis">
      Vertify ROS connections
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-step" class="md-nav__link">
    <span class="md-ellipsis">
      Next Step
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#previous-step" class="md-nav__link">
    <span class="md-ellipsis">
      Previous Step
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_doc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ROS 2 Cameras
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../5_doc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Publishing Camera’s Data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../6_doc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ROS2 Clock
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../7_doc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RTX Lidar Sensors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../8_doc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ROS2 Transform Trees and Odometry
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../9_doc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setting Publish Rates
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../10_doc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ROS2 Quality of Service (QoS)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../11_doc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ROS2 Navigation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ROS 2 Humble Documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            ROS 2 Humble Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ROS_doc/1_doc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ROS_doc/2_doc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CLI tools
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#driving-the-robot" class="md-nav__link">
    <span class="md-ellipsis">
      Driving the Robot
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connecting-to-ros2" class="md-nav__link">
    <span class="md-ellipsis">
      Connecting to ROS2
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#putting-it-together" class="md-nav__link">
    <span class="md-ellipsis">
      Putting it Together
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Putting it Together">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#building-the-graph" class="md-nav__link">
    <span class="md-ellipsis">
      Building the Graph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#graph-explained" class="md-nav__link">
    <span class="md-ellipsis">
      Graph Explained
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vertify-ros-connections" class="md-nav__link">
    <span class="md-ellipsis">
      Vertify ROS connections
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-step" class="md-nav__link">
    <span class="md-ellipsis">
      Next Step
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#previous-step" class="md-nav__link">
    <span class="md-ellipsis">
      Previous Step
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="driving-turtlebot-via-ros2-messages">Driving TurtleBot via ROS2 messages<a class="headerlink" href="#driving-turtlebot-via-ros2-messages" title="Permanent link">&para;</a></h1>
<p><a href="https://docs.omniverse.nvidia.com/isaacsim/latest/ros2_tutorials/tutorial_ros2_drive_turtlebot.html#isaac-sim-app-tutorial-ros2-drive-turtlebot">Reference</a></p>
<h2 id="driving-the-robot">Driving the Robot<a class="headerlink" href="#driving-the-robot" title="Permanent link">&para;</a></h2>
<p>At the end of <a href="../2_doc/">URDF Import</a>, the turtle robot has drivable joints, and when given a target position or velocity, it can move the joints to match the targets. However, in most cases, you want to be controlling the vehicle speed and not the individual wheel speed. Therefore we first want to add the appropriate controllers. In the case of Turtlebot3, a wheeled-robot with two wheels, the nodes needed are <code>Differential Controller</code> and <code>Articulation Controller</code>. <code>The Differential Controller</code> node convert vehicle speed to wheel speed, and <code>Articulation Controller</code> node send the commands to the joint drives.</p>
<p>Detailed instructions on how to connect these nodes can be found in <a href="https://docs.omniverse.nvidia.com/isaacsim/latest/gui_tutorials/tutorial_gui_omnigraph.html#isaac-sim-app-tutorial-gui-omnigraph">OmniGraph</a> for a similar robot (NVIDIA Jetbot), so we won’t go into details here.</p>
<h2 id="connecting-to-ros2">Connecting to ROS2<a class="headerlink" href="#connecting-to-ros2" title="Permanent link">&para;</a></h2>
<p>As part of our ROS2 bridge, we provide nodes that are subscribers and publisher of specific messages, some utility nodes such as keeping track of simulation time and context ID. You will also find “Helper Nodes”, which are gateways to more complex Omnigraphs that we abstract away from users.</p>
<p>To establish a ROS2 bridge for a specific topic, the steps can be generalized to the following:
- open an action graph
- add the OG nodes relevant to the desired ROS 2 topics
- modify any properties as needed
- connect the data pipeline</p>
<p>The ROS2 publisher nodes are where Omniverse Isaac Sim data gets packaged into ROS message and sent out to the ROS network, and subscriber nodes are where ROS2 messages are received and allocated to the corresponding Omniverse Isaac Sim parameters. So to use them, we simply have to pipe in and out the necessary data, as directed by the properties of each node. If you need to publish or subscribe to messages beyond the ones we provided, checkout Omnigraph: <a href="https://docs.omniverse.nvidia.com/isaacsim/latest/advanced_tutorials/tutorial_advanced_omnigraph_custom_python_nodes.html#isaac-sim-app-tutorial-advanced-omnigraph-custom-python-nodes">Custom Python Nodes</a>, or <a href="https://docs.omniverse.nvidia.com/isaacsim/latest/advanced_tutorials/tutorial_advanced_omnigraph_custom_cpp_nodes.html#isaac-sim-app-tutorial-advanced-omnigraph-custom-cpp-nodes">Omnigraph: Custom C++ Nodes</a> for ways to integrate custom omnigraph nodes.</p>
<h2 id="putting-it-together">Putting it Together<a class="headerlink" href="#putting-it-together" title="Permanent link">&para;</a></h2>
<h3 id="building-the-graph">Building the Graph<a class="headerlink" href="#building-the-graph" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>Open Visual Scripting: Window &gt; Visual Scripting &gt; Action Graph. An Action Graph window will appear on the bottom, you can dock it wherever that’s convenient.</p>
</li>
<li>
<p>Click on the New Action Graph Icon in middle of the Action Graph Window.</p>
</li>
<li>
<p>Inside the Action Graph window, there is a panel on the left hand side with all the OmniGraph Nodes (or OG nodes). All ROS2 related OG nodes are listed under Isaac Ros2. You can also search for nodes by name. To place node into the graph, simply drag it from the node list into the graph window. If all the ROS related nodes are labeled Ros1 not Ros2, it means you have ROS bridge enabled and not ROS2. Go to Windows &gt; Extensions to disable ROS bridge and enabled ROS2 bridge.</p>
</li>
<li>
<p>Build a graph that matches the one below.</p>
</li>
</ol>
<p><img alt="alt text" src="../img/1.png" /></p>
<h3 id="graph-explained">Graph Explained<a class="headerlink" href="#graph-explained" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>On Playback Tick Node</strong>: Producing a tick when simulation is “Playing”. Nodes that receives ticks from this node will execute their compute functions every simulation step.</p>
</li>
<li>
<p><strong>ROS2 Context Node</strong>: ROS2 uses DDS for its middleware communication. DDS uses Domain ID to allow for different logical networks operate independently even though they share a physical network. ROS 2 nodes on the same domain can freely discover and send messages to each other, while ROS 2 nodes on different domains cannot. ROS2 context node creates a context with a given Domain ID. It is set to 0 by default. If Use Domain ID Env Var is checked, it will import the <code>ROS_DOMAIN_ID</code> from the environment in which you launched the current instance of Isaac Sim.</p>
</li>
<li>
<p><strong>ROS2 Subscribe Twist Node</strong>: Subscribing to a Twist message. Specify the Ros Topic’s name <code>/cmd_vel</code> in the topicName field in its Property Tab.
    <div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>Note the subscriber nodes often have a Exec Out field. This act similar to a tick and will send a signal when a message is received by the subscriber. In this case, we want to only calculate the differential commands when a new twist message arrives. Therefore the Differential Node’s Exec In is ticked by the output of the subscriber node and not by On Playback Tick.
</span></code></pre></div></p>
</li>
<li>
<p><strong>Scale To/From Stage Unit Node</strong>: Convert assets or inputs to stage unit.</p>
</li>
<li>
<p><strong>Break 3-Vector Node</strong>: The output of the Twist subscriber node is linear and angular velocities, both <strong>3-dimensional vectors</strong>. But the input of the <strong>differential controller node</strong> only takes a <strong>forward velocity</strong> and <strong>rotation velocity</strong> in <strong>z-axis</strong>, therefore we need to decompose the array and extract the corresponding elements before feeding them into the differential controller node.</p>
</li>
<li>
<p><strong>Differential Controller Node</strong>: This node receives <strong>desired vehicle speed</strong> and calculates the <strong>wheel speed</strong> of the robot. It needs the <strong>wheel radius</strong> and <strong>distance between the wheels</strong> to make that calculation. It can also receive <strong>optional speed limit parameters</strong> to cap off wheel speed. Type in the <strong>property</strong> tab the <strong>wheel radius</strong>, the <strong>distance between the wheels</strong>, and the <strong>maximum linear speed</strong> for the vehicle as seen in table below to match the Turtlebot.</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Max Linear Speed</td>
<td>0.22</td>
</tr>
<tr>
<td>Wheel Distance</td>
<td>0.16</td>
</tr>
<tr>
<td>Wheel Radius</td>
<td>0.025</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><strong>Articulation Controller Node</strong>: This node is assigned to a target robot, then takes in the names or the indices of the joints that needs to be moved, and move them by the commands given in either <em>Position Commands</em>, <em>Velocity Commands</em>, or <em>Effort Commands</em>.</p>
<ul>
<li>Note the Articulation Controller node is ticked by On Playback Tick. So that if no new Twist message arrives, it will continue to execute whatever command it had received before.</li>
<li>To assign the Articulation Controller node’s target to be the Turtlebot. In the property tab, click on Add Target and search for the Turtlebot prim in the popup box. Make sure the robot prim you select is also where the Articulation Root API is applied. Sometimes it is the robot’s parent prim. But often times for mobile robots, it is the chassis prim instead. If you used the URDF importer following our previous tutorial, the Articulation Root API can be found on <code>/World/turtlebot3_burger/base_footprint</code>. More about Articulation API can be found in Add Articulation. <strong>If the articulation root is set on the base_footprint prim, remove the articulation root property from <code>/World/turtlebot3_burger/base_footprint</code> and add the articulation root property on the main robot prim of <code>/World/turtlebot3_burger</code>.</strong></li>
<li>To put the names of the wheel joints in an array format, type in the names of the wheel joints inside each of the <strong>Constant Token</strong> nodes, and feed the array of the names into the Make Array Node. The names of the joints for the Turtlebot are wheel_left_joint and wheel_right_joint.</li>
<li>If you are wondering why not put the names in Constant String node, it’s because OmniGraph does not have string-array data type, therefore if strings needed to be put in an array format to be used by a node, it needs to be token type instead.</li>
</ul>
</li>
</ol>
<h2 id="vertify-ros-connections">Vertify ROS connections<a class="headerlink" href="#vertify-ros-connections" title="Permanent link">&para;</a></h2>
<p>Click <code>Play</code>, and then in a separate ROS-sourced terminal, enter <code>ros2 topic list</code>. <code>/cmd_vel</code> should be listed in addition to <code>/parameter_events</code> and <code>/rosout</code></p>
<p>on the terminal, enter command: <code>ros2 topic pub /cmd_vel geometry_msgs/Twist "{'linear': {'x': 0.2, 'y': 0.0, 'z': 0.0}, 'angular': {'x': 0.0, 'y': 0.0, 'z': 0.0}}"</code> to drive it forward.</p>
<p>Enter command <code>ros2 topic pub /cmd_vel geometry_msgs/Twist "{'linear': {'x': 0.0, 'y': 0.0, 'z': 0.0}, 'angular': {'x': 0.0, 'y': 0.0, 'z': 0.0}}"</code> to stop it from moving.</p>
<p>To make it easier for us to move the Turtlebot around, install the <code>teleop_twist_keyboard</code> by running the following command: <code>sudo apt-get install ros-humble-teleop-twist-keyboard</code></p>
<p>Enable driving using the keyboard by running: <code>ros2 run teleop_twist_keyboard teleop_twist_keyboard</code></p>
<p>Please see vid/1.webm for demo.</p>
<h2 id="next-step">Next Step<a class="headerlink" href="#next-step" title="Permanent link">&para;</a></h2>
<p><a href="../4_doc/">ROS2 Cameras</a></p>
<h2 id="previous-step">Previous Step<a class="headerlink" href="#previous-step" title="Permanent link">&para;</a></h2>
<p><a href="../2_doc/">URDF Import: Turtlebot</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.525ec568.min.js"></script>
      
        <script src="../../js/theme-switcher.js"></script>
      
    
  </body>
</html>